!function t(e,n,r){function i(o,s){if(!n[o]){if(!e[o]){var c="function"==typeof require&&require;if(!s&&c)return c(o,!0);if(a)return a(o,!0);var u=new Error("Cannot find module '"+o+"'");throw u.code="MODULE_NOT_FOUND",u}var l=n[o]={exports:{}};e[o][0].call(l.exports,(function(t){return i(e[o][1][t]||t)}),l,l.exports,t,e,n,r)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<r.length;o++)i(r[o]);return i}({1:[function(t,e,n){var r;r=function(){var t=t||function(t,e){var n=Object.create||function(){function t(){}return function(e){var n;return t.prototype=e,n=new t,t.prototype=null,n}}(),r={},i=r.lib={},a=i.Base={extend:function(t){var e=n(this);return t&&e.mixIn(t),e.hasOwnProperty("init")&&this.init!==e.init||(e.init=function(){e.$super.init.apply(this,arguments)}),(e.init.prototype=e).$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},o=i.WordArray=a.extend({init:function(t,e){t=this.words=t||[],this.sigBytes=null!=e?e:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,r=this.sigBytes,i=t.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++){var o=n[a>>>2]>>>24-a%4*8&255;e[r+a>>>2]|=o<<24-(r+a)%4*8}else for(a=0;a<i;a+=4)e[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-n%4*8,e.length=t.ceil(n/4)},clone:function(){var t=a.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n,r=[],i=function(e){e=e;var n=987654321,r=4294967295;return function(){var i=((n=36969*(65535&n)+(n>>16)&r)<<16)+(e=18e3*(65535&e)+(e>>16)&r)&r;return i/=4294967296,(i+=.5)*(.5<t.random()?1:-1)}},a=0;a<e;a+=4){var s=i(4294967296*(n||t.random()));n=987654071*s(),r.push(4294967296*s()|0)}return new o.init(r,e)}}),s=r.enc={},c=s.Hex={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var a=e[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n[r>>>3]|=parseInt(t.substr(r,2),16)<<24-r%8*4;return new o.init(n,e/2)}},u=s.Latin1={stringify:function(t){for(var e=t.words,n=t.sigBytes,r=[],i=0;i<n;i++){var a=e[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(a))}return r.join("")},parse:function(t){for(var e=t.length,n=[],r=0;r<e;r++)n[r>>>2]|=(255&t.charCodeAt(r))<<24-r%4*8;return new o.init(n,e)}},l=s.Utf8={stringify:function(t){try{return decodeURIComponent(escape(u.stringify(t)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(t){return u.parse(unescape(encodeURIComponent(t)))}},f=i.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=l.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,r=n.words,i=n.sigBytes,a=this.blockSize,s=i/(4*a),c=(s=e?t.ceil(s):t.max((0|s)-this._minBufferSize,0))*a,u=t.min(4*c,i);if(c){for(var l=0;l<c;l+=a)this._doProcessBlock(r,l);var f=r.splice(0,c);n.sigBytes-=u}return new o.init(f,u)},clone:function(){var t=a.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0}),d=(i.Hasher=f.extend({cfg:a.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new d.HMAC.init(t,n).finalize(e)}}}),r.algo={});return r}(Math);return t},"object"==typeof n?e.exports=n=r():"function"==typeof define&&define.amd?define([],r):this.CryptoJS=r()},{}],2:[function(t,e,n){var r;r=function(t){return t.enc.Hex},"object"==typeof n?e.exports=n=r(t("./core")):"function"==typeof define&&define.amd?define(["./core"],r):r(this.CryptoJS)},{"./core":1}],3:[function(t,e,n){var r;r=function(t){return function(e){var n=t,r=n.lib,i=r.WordArray,a=r.Hasher,o=n.algo,s=[],c=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(t){return 4294967296*(t-(0|t))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),c[i]=n(e.pow(r,1/3)),i++),r++}();var u=[],l=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(t,e){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],l=n[5],f=n[6],d=n[7],E=0;E<64;E++){if(E<16)u[E]=0|t[e+E];else{var T=u[E-15],A=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,h=u[E-2],p=(h<<15|h>>>17)^(h<<13|h>>>19)^h>>>10;u[E]=A+u[E-7]+p+u[E-16]}var _=r&i^r&a^i&a,v=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),I=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&l^~s&f)+c[E]+u[E];d=f,f=l,l=s,s=o+I|0,o=a,a=i,i=r,r=I+(v+_)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+l|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var t=a.clone.call(this);return t._hash=this._hash.clone(),t}});n.SHA256=a._createHelper(l),n.HmacSHA256=a._createHmacHelper(l)}(Math),t.SHA256},"object"==typeof n?e.exports=n=r(t("./core")):"function"==typeof define&&define.amd?define(["./core"],r):r(this.CryptoJS)},{"./core":1}],4:[function(t,e,n){e.exports={CLICK_ID_NAME:"rdt_cid",PIXEL_ENDPOINT:"https://alb.reddit.com/rp.gif",UNIX_EPOCH:"Thu, 01 Jan 1970 00:00:00 GMT",UUID_COOKIE_EXPIRATION_DAYS:90,UUID_COOKIE_NAME_V2:"_rdt_uuid",METADATA_PREFIX:"m.",CUSTOM_EVENT_NAME_LIMIT:64,CONVERSION_EVENTS:{PAGEVISIT:"PageVisit",VIEWCONTENT:"ViewContent",SEARCH:"Search",ADDTOCART:"AddToCart",ADDTOWISHLIST:"AddToWishlist",PURCHASE:"Purchase",LEAD:"Lead",SIGNUP:"SignUp",CUSTOM:"Custom"},CONVERSION_EVENTS_LIST:["PageVisit","ViewContent","Search","AddToCart","AddToWishlist","Purchase","Lead","SignUp","Custom"],INTEGRATION_PROVIDERS:{REDDIT:"reddit",GTM:"gtm",NOSCRIPT:"noscript"},PIXEL_METHODS:{INIT:"init",ENABLE_FIRST_PARTY_COOKIES:"enableFirstPartyCookies",TRACK:"track",DISABLE_FIRST_PARTY_COOKIES:"disableFirstPartyCookies"},EVENT_METADATA:{ITEM_COUNT:"itemCount",VALUE:"value",VALUE_DECIMAL:"valueDecimal",CURRENCY:"currency",TRANSACTION_ID:"transactionId",CUSTOM_EVENT_NAME:"customEventName",PRODUCTS:"products"},EVENT_METADATA_LIST:["itemCount","value","valueDecimal","currency","transactionId","customEventName","products"],REVENUE_METADATA_LIST:["itemCount","value","valueDecimal","currency","transactionId"],DEFAULT_CURRENCY:"USD",REVENUE_EVENTS_LIST:["AddToCart","AddToWishlist","Purchase","Lead","SignUp","Custom"]}},{}],5:[function(t,e,n){var r=t("./constants"),i=t("./uuid"),a=t("./strings"),o=function(t){return(new Date).getTime()+"."+t};n.addTimestampToCookie=o,n.extractUuidFromCookieV2=function(t){var e=t.split(".");return e.length<2?t:e[1]},n.createCookieV2=function(){return o(i())},n.getCookieV2=function(){for(var t=document.cookie.split(";"),e=null,n=1/0,i=0;i<t.length;i++){var o=t[i].split("=");if(1<o.length&&a.trim(o[0])===r.UUID_COOKIE_NAME_V2){var s=o[1].split(".");if(1<s.length){var c=parseInt(s[0],10);!isNaN(c)&&c<n&&(n=c,e=o[1])}}}return e};var s=function(t){return""+Number(t)===t};n.stringIsInteger=s;var c=function(t,e,n,r){var i=t+"="+e+";domain=."+n+";expires="+r+";path=/;samesite=strict";return"https:"===window.location.protocol&&(i+=";secure"),document.cookie=i,0<=document.cookie.indexOf(t)};n.setAndTestCookie=c,n.setCookie=function(t,e,n){var r=new Date,i=24*n*60*60;r.setTime(r.getTime()+1e3*i);var a=r.toUTCString(),o=window.location.hostname;if(o="."==o.slice(-1)?o.slice(0,-1):o,labels=o.split("."),1==labels.length||s(labels[labels.length-1]))return c(t,e,o,a),o;for(o=labels.pop(),o=labels.pop()+"."+o;!c(t,e,o,a)&&labels.length;)o=labels.pop()+"."+o;return o},n.deleteCookie=function(t,e){for(e=e||window.location.hostname,labels=e.split(".");c(t,"",labels.join("."),r.UNIX_EPOCH)&&labels.length;)labels.shift();return labels.join(".")}},{"./constants":4,"./strings":11,"./uuid":12}],6:[function(t,e,n){n.screenSize=function(){return pixelRatio=1,width=window.screen.width*pixelRatio,height=window.screen.height*pixelRatio,{sh:Math.max(width,height),sw:Math.min(width,height)}}},{}],7:[function(t,e,n){var r=window.console||{},i={},a={error:"Reddit Pixel Error",warn:"Reddit Pixel Warning",info:"Reddit Pixel Info"},o=function(t){return function(e){t in r&&t in a&&r[t](a[t]+":"+e)}};i.error=o("error"),i.warn=o("warn"),i.info=o("info"),e.exports=i},{}],8:[function(t,e,n){function r(t){"postMessage"in window&&postMessage(t,"*")}n.sendInit=function(t,e){r({type:"Init",config:t,args:e})},n.sendEventData=function(t,e){r({type:"EventData",eventData:t,args:e})},n.sendError=function(t,e){r({type:"Error",exceptionName:t,args:e,timestamp:(new Date).valueOf()})}},{}],9:[function(t,e,n){var r=Array.prototype.slice,i=t("./cookie"),a=t("./device"),o=t("./validators/identityHasher"),s=t("./logger"),c=t("./pixelHelperConnect"),u=t("./validators/integrations"),l=t("./validators/event"),f=t("./constants"),d=t("./queryString"),E=d.QueryBuilder,T=d.getQueryParameter,A=window.rdt;A||(s.error("Pixel was not initialized.Please ensure you have included the correct pixel script in your head tag"),c.sendError("PixelWasNotInitialised"));var h=function(){var t=i.getCookieV2()||i.createCookieV2();i.setCookie(f.UUID_COOKIE_NAME_V2,t,f.UUID_COOKIE_EXPIRATION_DAYS),A.uuid=i.extractUuidFromCookieV2(t);var e=T(window.location.search,f.CLICK_ID_NAME);e&&!A.clickId&&(A.clickId=e),A.enableFirstPartyCookies=!0};function p(t){var e,n,i=r.call(arguments),d=f.PIXEL_METHODS;switch(t){case d.INIT:return A.advertiserId?(s.warn("pixel has already been initialized"),void c.sendError("PixelAlreadyBeenInitialised",i)):(A.advertiserId=i[1],configArgs="object"==typeof i[2]&&i[2]||{},screenSize=a.screenSize(),A.config={aaid:o.hashIfSet(configArgs.aaid,"aaid"),em:o.hashIfSet(configArgs.email,"email"),external_id:o.hashIfSet(configArgs.externalId,"externalId"),idfa:o.hashIfSet(configArgs.idfa,"idfa"),integration:u.getIntegrationProvider(configArgs.integration),opt_out:configArgs.optOut?1:0,sh:screenSize.sh,sw:screenSize.sw,v:"rdt_1967aea8"},"useDecimalCurrencyValues"in configArgs?A.useDecimalCurrencyValues=!!configArgs.useDecimalCurrencyValues:A.useDecimalCurrencyValues=!0,h(),void c.sendInit(A.config,i));case d.ENABLE_FIRST_PARTY_COOKIES:return void h();case d.DISABLE_FIRST_PARTY_COOKIES:return void(A.enableFirstPartyCookies=!1);case d.TRACK:var T=i[1];if(!l.isValidEventType(T))return s.error(T+" is not a valid pixel event please check the reddit pixel documentation for a list of valid pixel event types"),void c.sendError("InvalidEventName",i);var p=i[2]||{},_=l.validateMetadata(T,p),v=(new E).addParams({id:A.advertiserId,event:T}).addParams(_);return A.enableFirstPartyCookies&&(A.clickId&&A.clickId.length&&v.addParams({click_id:A.clickId}),A.uuid&&A.uuid.length&&v.addParams({uuid:A.uuid})),v.addParams(A.config),e=f.PIXEL_ENDPOINT,n=v.toQueryString(),(new Image).src=e+n,void c.sendEventData(v.params,i)}}for(A.sendEvent=p;A.callQueue.length;)p.apply(A,A.callQueue.shift())},{"./constants":4,"./cookie":5,"./device":6,"./logger":7,"./pixelHelperConnect":8,"./queryString":10,"./validators/event":13,"./validators/identityHasher":14,"./validators/integrations":15}],10:[function(t,e,n){var r=t("../lib/constants"),a=function(){this.params={},this.params.ts=(new Date).valueOf()};a.prototype.addParams=function(t){for(var e in t)this.isMetadata(e)?this.params[r.METADATA_PREFIX+e]=t[e]:this.params[e]=t[e];return this},a.prototype.isMetadata=function(t){for(i=0;i<r.EVENT_METADATA_LIST.length;i++)if(t===r.EVENT_METADATA_LIST[i])return!0;return!1},a.prototype.toQueryString=function(){var t=[];for(var e in this.params){var n=this.params[e];t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}return"?"+t.join("&")},n.QueryBuilder=a,n.getQueryParameter=function(t,e){if(!t)return"";for(var n=t.slice(1).split("&"),r=0;r<n.length;r++){var i=n[r].split("=");if(i[0]===e)return i[1]}return""}},{"../lib/constants":4}],11:[function(t,e,n){var r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;n.trim=function(t){return t.replace(r,"")}},{}],12:[function(t,e,n){e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var e=16*Math.random()|0;return("x"===t?e:3&e|8).toString(16)}))}},{}],13:[function(t,e,n){var r=t("../constants"),i=t("./identityHasher");n.validateMetadata=function(t,e){var n={};if(o(t)){for(var i=0;i<r.REVENUE_METADATA_LIST.length;i++){var a=r.REVENUE_METADATA_LIST[i];a!==r.EVENT_METADATA.VALUE_DECIMAL&&c(a,n,e)}u(n)}return s(t)&&c(r.EVENT_METADATA.CUSTOM_EVENT_NAME,n,e),c(r.EVENT_METADATA.PRODUCTS,n,e),l(n)};var a=function(t,e){for(var n=0;n<e.length;n++)if(t===e[n])return!0;return!1};n.arrayIncludes=a,n.isValidEventType=function(t){return a(t,r.CONVERSION_EVENTS_LIST)};var o=function(t){return a(t,r.REVENUE_EVENTS_LIST)};n.isRevenueEventType=o;var s=function(t){return t===r.CONVERSION_EVENTS.CUSTOM};n.isCustomEventType=s;var c=function(t,e,n){t in n&&E(t)(n[t])&&(e[t]=n[t])},u=function(t){r.EVENT_METADATA.CURRENCY in t&&!(r.EVENT_METADATA.VALUE in t)&&(t[r.EVENT_METADATA.CURRENCY]="")},l=function(t){var e=r.EVENT_METADATA.CURRENCY in t,n=r.EVENT_METADATA.VALUE in t;if(e){var a=t[r.EVENT_METADATA.CURRENCY];t[r.EVENT_METADATA.CURRENCY]=a.toUpperCase()}if(!e&&n&&(t[r.EVENT_METADATA.CURRENCY]=r.DEFAULT_CURRENCY),n){var o=t[r.EVENT_METADATA.VALUE],s=rdt.useDecimalCurrencyValues?r.EVENT_METADATA.VALUE_DECIMAL:r.EVENT_METADATA.VALUE;rdt.useDecimalCurrencyValues&&delete t[r.EVENT_METADATA.VALUE],t[s]=parseFloat(o)}if(r.EVENT_METADATA.ITEM_COUNT in t){var c=t[r.EVENT_METADATA.ITEM_COUNT];t[r.EVENT_METADATA.ITEM_COUNT]=parseFloat(c)}r.EVENT_METADATA.TRANSACTION_ID in t&&(t[r.EVENT_METADATA.TRANSACTION_ID]=i.hashIfSet(t[r.EVENT_METADATA.TRANSACTION_ID],r.EVENT_METADATA.TRANSACTION_ID));var u=r.EVENT_METADATA.CUSTOM_EVENT_NAME;t[u]=d(t[u]);var l=r.EVENT_METADATA.PRODUCTS;t[l]=f(t[l]);for(var E={},T=0;T<r.EVENT_METADATA_LIST.length;T++){var A=r.EVENT_METADATA_LIST[T];E[A]=A in t?t[A]:""}return E},f=function(t){if(!t)return"";if(h(t))try{t=JSON.parse(t)}catch(t){return""}"[object Array]"!==Object.prototype.toString.call(t)&&(t=[t]);for(var e=[],n=0;n<t.length;n++){var r=t[n],i={};for(_field in r.id&&(A(r.id)?i.id=r.id.toString():h(r.id)&&(i.id=r.id)),r.name&&h(r.name)&&(i.name=r.name),r.category&&h(r.category)&&(i.category=r.category),i){e.push(i);break}}return 0!==e.length?JSON.stringify(e):""},d=function(t){if(!t)return"";for(var e=0,n=0,i=t.length;e<i&&n<r.CUSTOM_EVENT_NAME_LIMIT;){var a=t.charCodeAt(e);n+=1,e+=1,55296<=a&&a<=56319&&e<i&&56320==(64512&t.charCodeAt(e))&&(e+=1)}return t.slice(0,e)};n.normalizeCustomEventName=d;var E=function(t){return{itemCount:p,value:rdt.useDecimalCurrencyValues?A:p,currency:T,transactionId:h,customEventName:h,products:v}[t]},T=function(t){return"string"==typeof t&&3===t.length},A=function(t){return"string"==typeof t&&(t=parseFloat(t)),"number"==typeof t&&!isNaN(t)&&isFinite(t)},h=function(t){return"string"==typeof t},p=function(t){if(!A(t))return!1;var e=parseFloat(t);return(0|e)===e},_=function(t){return"object"==typeof t&&null!==t};n.isObject=_;var v=function(t){return _(t)||h(t)};n.isObjectOrString=v},{"../constants":4,"./identityHasher":14}],14:[function(t,e,n){var r=t("crypto-js/sha256"),i=t("crypto-js/enc-hex"),a=function(t,e){return t.split(e).join("")},o=function(t,e){return t.length==e&&!isNaN(Number("0x"+t))},s=function(t){return uuidDigits=a(t,"-"),o(uuidDigits,32)&&"00000000000000000000000000000000"!==uuidDigits},c=n.normalizeEmail=function(t){return localPartAndDomain=t.split("@"),2!=localPartAndDomain.length?"":(localPart=localPartAndDomain[0],localPartAndDomain[0]=a(localPart,".").split("+")[0],localPartAndDomain.join("@").toLowerCase())},u=function(t){return t},l=n.isValidAaid=function(t){return s(t)},f=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,d=n.isValidEmail=function(t){return f.test(t)},E=n.isValidHash=function(t){return o(t,64)},T=n.isValidIdfa=function(t){return s(t)},A=n.isValidNoOp=function(t){return!0},h=["aaid","email","externalId","idfa","transactionId"],p={aaid:function(t){return t.toLowerCase()},email:c,externalId:u,idfa:function(t){return t.toUpperCase()},transactionId:u},_={aaid:l,email:d,externalId:A,idfa:T,transactionId:A};n.hashIfSet=function(t,e){if(!t||"string"!=typeof t||!function(t){for(var e=0;e<h.length;e++)if(t===h[e])return!0;return!1}(e))return"";if(E(t))return t.toLowerCase();if(!(0,_[e])(t))return"email"===e?"0000000000000000000000000000000000000000000000000000000000000000":"";var n=p[e];return i.stringify(r(n(t)))}},{"crypto-js/enc-hex":2,"crypto-js/sha256":3}],15:[function(t,e,n){var r=t("../constants");n.getIntegrationProvider=function(t){switch(t){case r.INTEGRATION_PROVIDERS.GTM:return r.INTEGRATION_PROVIDERS.GTM;default:return r.INTEGRATION_PROVIDERS.REDDIT}}},{"../constants":4}]},{},[9]);